<ion-header>
  <ion-navbar color='navsbar'>
    <ion-title *ngIf="!isOn" class="titulo">Alimentos</ion-title>
      <ion-searchbar *ngIf="isOn" [(ngModel)]="searchTerm" (ionInput)="setFilteredItems()"></ion-searchbar>
    <ion-buttons end>
      <button (click)="toggleDetails()" ion-button icon-only>
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-list [virtualScroll]="alimentos">
    <ion-item-sliding *virtualItem="let item">
    <ion-item>
      <div (click)="sobreAlimentoModalPage(item)">
        <h2>{{ item.nome }}</h2>

        <ion-badge>
          kcal: {{ item.kcal }}
        </ion-badge>
        <ion-badge>
          pt: {{ item.proteina }}
        </ion-badge>
        <ion-badge>
          hdl: {{ item.colesterol }}
        </ion-badge>
      </div>
    </ion-item>
    <ion-item-options>
      <ion-buttons end>
        <button (click)="adicionarAlimento(item)" ion-button outline color="secondary">
          <ion-icon name="add-circle"></ion-icon>
          Adicionar
        </button>
      </ion-buttons>

    </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content
      loadingSpinner="crescent"
      loadingText="Carregando Alimentos">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

  <ion-fab end bottom>
  <button  ion-fab (click)="adicionarNovoAlimento()" icon-only color="navsbar">
    <ion-icon name="add"></ion-icon>
  </button>
</ion-fab>

</ion-content>
